{% extends "base.html" %}
{% block title %}Instructors{% endblock %}

{% block content %}

<h2 class="mb-3">Instructor List</h2>

<!-- Filter Buttons -->
<div class="mb-3">
  <a href="{{ url_for('main.instructor_list', view='active') }}"
    class="btn btn-primary btn-sm {% if view=='active' %}disabled{% endif %}">
    Active Instructors
  </a>

  <a href="{{ url_for('main.instructor_list', view='all') }}"
    class="btn btn-secondary btn-sm {% if view=='all' %}disabled{% endif %}">
    All Instructors
  </a>
</div>

<a href="{{ url_for('main.add_instructor') }}" class="btn btn-success mb-3">
  + Add Instructor
</a>

<table class="table table-bordered table-striped">
  <thead class="table-dark">
    <tr>
      <th>Name</th>
      <th>Email</th>
      <th>Department</th>
      <th>Status</th>
      <th>Actions</th>
    </tr>
  </thead>

  <tbody>
    {% for i in instructors %}
    <tr class="{% if i.status != 'Active' %}table-secondary{% endif %}">

      <!-- Name -->
      <td>{{ i.first_name }} {{ i.last_name }}</td>

      <!-- Email -->
      <td>{{ i.email }}</td>

      <!-- Department -->
      <td>{{ i.department_name }}</td>

      <!-- Status -->
      <td>
        {% if i.status == 'Active' %}
        <span class="badge bg-success">Active</span>
        {% else %}
        <span class="badge bg-secondary">Inactive</span>
        {% endif %}
      </td>

      <!-- Actions -->
      <td>
        <a href="{{ url_for('main.instructor_detail', instructor_id=i.instructor_id) }}" class="btn btn-info btn-sm">
          View
        </a>

        <a href="{{ url_for('main.edit_instructor', instructor_id=i.instructor_id) }}" class="btn btn-warning btn-sm">
          Edit
        </a>

        {% if i.status == 'Active' %}
        <a href="{{ url_for('main.confirm_delete_instructor', instructor_id=i.instructor_id) }}"
          class="btn btn-danger btn-sm" onclick="return confirm('Are you sure you want to delete this instructor?');">
          Delete
        </a>
        {% endif %}
      </td>

    </tr>
    {% endfor %}
  </tbody>
</table>

{% endblock %}