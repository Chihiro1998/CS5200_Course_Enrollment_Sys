<!DOCTYPE html>
<html lang="en">

<head>
  <meta charset="UTF-8">
  <title>{% block title %}Course Enrollment System{% endblock %}</title>

  <style>
    /* Flash message container */
    #flash-container {
      position: fixed;
      top: 15px;
      right: 15px;
      z-index: 9999;
    }

    .flash {
      padding: 12px 18px;
      margin-bottom: 10px;
      border-radius: 6px;
      color: white;
      font-weight: bold;
      box-shadow: 0 2px 8px rgba(0, 0, 0, 0.15);
      opacity: 0.95;
      animation: fadein 0.4s;
    }

    .flash-success {
      background-color: #4CAF50;
    }

    .flash-error {
      background-color: #f44336;
    }

    @keyframes fadein {
      from {
        opacity: 0;
        transform: translateY(-10px);
      }

      to {
        opacity: 0.95;
        transform: translateY(0);
      }
    }
  </style>
</head>

<body>
  <header>
    <h1>Course Enrollment Management System</h1>
    <nav>
      <a href="{{ url_for('main.index') }}">Students</a> |
      <a href="{{ url_for('main.course_list') }}">Courses</a> |
      <a href="#">Enroll</a>
    </nav>
    <hr>
  </header>

  <!-- Flash Messages -->
  {% with messages = get_flashed_messages(with_categories=true) %}
  {% if messages %}
  <div id="flash-container">
    {% for category, message in messages %}
    <div class="flash flash-{{ category }}">{{ message }}</div>
    {% endfor %}
  </div>
  {% endif %}
  {% endwith %}

  <!-- Main content -->
  <main>
    {% block content %}{% endblock %}
  </main>

  <!-- Auto-hide flash -->
  <script>
    setTimeout(() => {
      document.querySelectorAll(".flash").forEach(flash => {
        flash.style.transition = "opacity 0.5s";
        flash.style.opacity = "0";
        setTimeout(() => flash.remove(), 500);
      });
    }, 2500);
  </script>

</body>

</html>