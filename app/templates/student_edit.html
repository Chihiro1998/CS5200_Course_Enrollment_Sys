{% extends "base.html" %}
{% block title %}Edit Student{% endblock %}

{% block content %}

<div class="card shadow p-4">

  <h2 class="mb-4">Edit Student Information</h2>

  <form method="POST">

    <!-- First Name -->
    <div class="mb-3">
      <label class="form-label">First Name</label>
      <input type="text" class="form-control" name="first_name" value="{{ student.first_name }}" required>
    </div>

    <!-- Last Name -->
    <div class="mb-3">
      <label class="form-label">Last Name</label>
      <input type="text" class="form-control" name="last_name" value="{{ student.last_name }}" required>
    </div>

    <!-- Email -->
    <div class="mb-3">
      <label class="form-label">Email</label>
      <input type="email" class="form-control" name="email" value="{{ student.email }}" required>
    </div>

    <!-- Enrollment Year -->
    <div class="mb-3">
      <label class="form-label">Enrollment Year</label>
      <input type="number" class="form-control" name="enrollment_year" value="{{ student.enrollment_year }}" required>
    </div>

    <!-- Status selection -->
    <div class="mb-3">
      <label class="form-label">Status</label>
      <select class="form-select" name="status">
        <option value="Active" {% if student.status == "Active" %}selected{% endif %}>Active</option>
        <option value="Inactive" {% if student.status == "Inactive" %}selected{% endif %}>Inactive</option>
        <option value="Graduated" {% if student.status == "Graduated" %}selected{% endif %}>Graduated</option>
      </select>
    </div>

    <!-- Department selection -->
    <div class="mb-3">
      <label class="form-label">Department</label>
      <select class="form-select" name="department_id" required>
        {% for d in departments %}
        <option value="{{ d.department_id }}" {% if student.department_id == d.department_id %}selected{% endif %}>
          {{ d.department_name }}
        </option>
        {% endfor %}
      </select>
    </div>

    <!-- Buttons -->
    <button type="submit" class="btn btn-primary">Save Changes</button>

    <a href="{{ url_for('main.student_detail', student_id=student.student_id) }}" class="btn btn-secondary ms-2">
      Cancel
    </a>

  </form>

</div>

{% endblock %}